services:
  the-forest-dedicated-server:
    container_name: the-forest-dedicated-server
    build:
      context: .
      dockerfile: Dockerfile
    restart: always
    environment:
      - SERVER_STEAM_ACCOUNT_TOKEN=token-here
      - SERVER_IP=server-ip-here
      - SERVER_STEAM_PORT=8766
      - SERVER_GAME_PORT=27015
      - SERVER_QUERY_PORT=27016
      - SERVER_PLAYERS=8
      - SERVER_VAC=off
      - SERVER_PASSWORD=
      - SERVER_ADMIN_PASSWORD=
      - SERVER_AUTO_SAVE_INTERVAL=15
      - SERVER_DIFFICULTY=Normal
      - SERVER_INIT_TYPE=Continue
      - SERVER_SLOT=1
      - SERVER_SHOW_LOGS=off
      - SERVER_CONTACT=email@gmail.com
      - SERVER_VEGAN_MODE=off
      - SERVER_VEGETARIAN_MODE=off
      - SERVER_RESET_HOLES_MODE=off
      - SERVER_TREE_REGROW_MODE=off
      - SERVER_ALLOW_BUILDING_DESTRUCTION=on
      - SERVER_ALLOW_ENEMIES_CREATIVE=off
      - SERVER_ALLOW_CHEATS=off
      - SERVER_REALISTIC_PLAYER_DAMAGE=off
      - SERVER_TARGET_FPS_IDLE=0
      - SERVER_TARGET_FPS_ACTIVE=165
    ports:
      - 8766:8766/tcp
      - 8766:8766/udp
      - 27015:27015/tcp
      - 27015:27015/udp
      - 27016:27016/tcp
      - 27016:27016/udp
    volumes:
      - ./steamcmd:/steamcmd
      - ./game:/theforest
      - ./winedata:/winedata
